---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  image: ImageMetadata;
  alt: string;
  objectPosition?: `${number}% ${number}%`;
}

const { image, alt, objectPosition = "50% 50%" } = Astro.props;
---

<Image
  src={image}
  alt={alt}
  sizes="100vw"
  height={580}
  widths={[
    // eslint-disable-next-line no-magic-numbers
    500, 750, 1000, 1300, 1920,
  ]}
  loading="eager"
  style={`--header-image-object-position: ${objectPosition}`}
/>

<style>
  img {
    min-height: 300px;
    max-height: 580px;
    height: auto;
    width: 100%;
    object-fit: cover;
    object-position: var(--header-image-object-position);
  }
</style>
